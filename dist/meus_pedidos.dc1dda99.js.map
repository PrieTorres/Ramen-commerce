{"mappings":"AAAA,SAAAA,kBAAAC,EAAAC,I,+4EAAMC,QAAU,G,SAEDC,kB,OAAAC,iBAAAC,MAAAC,KAAAC,U,UAAAH,mB,OAAAA,iBAAfI,mBAAA,W,4DAGI,MAFe,CAAC,EAEhB,C,EAAMC,MAAM,YACXC,MAAK,SAAAC,G,OAAaA,EAAIC,M,IACtBC,OAAM,SAAAC,GAA0B,OAAlBC,QAAQC,IAAIF,GAAaA,CAAG,IAC1CJ,MAAK,SAAAO,G,IAASC,EAAsC,OAAtCA,EAAAhB,SAAQiB,KAARd,MAAAa,EAAaE,mBAAGC,OAAOC,OAAOL,KAAef,OAAO,K,OAEnE,OALAqB,EAAAC,OAKA,C,EAAOtB,S,GACX,KATeG,MAAAC,KAAAC,U,UAWAkB,kBAAkBvB,EAASwB,G,OAA3BC,mBAAAtB,MAAAC,KAAAC,U,UAAAoB,qB,OAAAA,mBAAfnB,mBAAA,SAAiCN,EAASwB,G,IAElCE,E,mEADJb,QAAQC,IAAI,mBACRY,EAAYC,SAASC,KAAKC,cAAc,IAAoBC,OAAhBN,KACtCO,UAAY,GAElB/B,EAAD,C,KACW,C,EAAMC,mB,OAAhBD,EAAUqB,EAAAC,O,wBAEdT,QAAQC,IAAI,kBAAgBd,GAG5BA,EAAQgC,SAAQ,SAAAC,GACZ,IAAIC,EAAa,GACjBrB,QAAQC,IAAI,cAAemB,GAG3BA,EAAOE,MAAMH,SAAQ,SAAAI,GACjBF,GAAY,2BAAqCJ,OAAVM,EAAKC,KAAK,QACrD,IAEAX,EAAUK,WAAa,4GAIHD,OAFoCG,EAAOK,IAAI,sFAKlBR,OAH7BG,EAAOM,OAAQN,EAAOM,OAAS,iCAAiC,iJAGkCT,OAArEG,EAAOO,WAAa,IAAIC,KAAKR,EAAOO,YAAYE,WAAa,KAAK,KAErGZ,OAFwGG,EAAOO,WAAa,IAAIC,KAAKR,EAAOO,YAAYG,aAAgB,KAAK,yEAKtKb,OAHPI,EAAW,oGAGkBJ,OAAtBG,EAAOW,MAAM,WAA0Bd,OAAjBG,EAAOY,UAAU,uEAKhE,I,OACJ,IAtCepB,mBAAAtB,MAAAC,KAAAC,U,CAwCf,SAASyC,cAAcC,GACnBxC,MAAM,mBAA4BuB,OAATiB,GAAY,CAACC,OAAQ,WAC9CC,OAAOC,SAASC,KAAOF,OAAOC,SAASE,OAAO,oBAClD","sources":["src/pages/js/carregarPedidos.js"],"sourcesContent":["const pedidos = [];\r\n\r\nasync function carregarPedidos() {\r\n    let response = {};\r\n\r\n    await fetch(\"/pedidos\")\r\n    .then(res => res = res.json())\r\n    .catch(err => {console.log(err); return err})\r\n    .then(data => {pedidos.push(...Object.values(data)); return pedidos})\r\n    \r\n    return pedidos\r\n}\r\n\r\nasync function renderizarPedidos(pedidos, classeContainer) {\r\n    console.log('eu fui chamado');\r\n    let container = document.body.querySelector(`.${classeContainer}`);\r\n    container.innerHTML = ''\r\n\r\n    if(!pedidos){\r\n        pedidos = await carregarPedidos();\r\n    }\r\n    console.log(\"pedidos --> \", pedidos);\r\n\r\n\r\n    pedidos.forEach(pedido => {\r\n        let text_itens = \"\";\r\n        console.log('entrou aqui', pedido);\r\n\r\n\r\n        pedido.itens.forEach(item => {\r\n            text_itens+=`<li class=\"item-pedido\">${item.nome}</li>`\r\n        });\r\n\r\n        container.innerHTML += `\r\n        <div class=\"pedido-container\">\r\n            <span class=\"delete-icon\" onclick=\"excluirPedido('${pedido._id}')\">X</span>\r\n            <div class=\"imagem-pedido\">\r\n                <img src=\"${pedido.imagem? pedido.imagem : './img/ramens/desenho-ramen.png'}\" alt=\"ramen delicioso\">\r\n            </div>\r\n            <div class=\"infos-pedido\">\r\n                <p class=\"hora-pedido\">Pedido feito Ã s ${pedido.horaPedido? (new Date(pedido.horaPedido).getHours()): \"10\"}:${pedido.horaPedido? (new Date(pedido.horaPedido).getMinutes()) : \"10\"}</p>\r\n                <ul class=\"itens-pedido\">\r\n                    ${text_itens}\r\n                </ul>\r\n                <p class=\"info-pagamento\">\r\n                    Total: ${pedido.preco}  ---- ${pedido.pagamento}\r\n                </p>\r\n            </div>\r\n        </div>\r\n        `\r\n    });\r\n}\r\n\r\nfunction excluirPedido(pedidoId) {\r\n    fetch(`/deletar-pedido/${pedidoId}`, {method: \"delete\"});\r\n    window.location.href = window.location.origin+\"/meus_pedidos.html\"\r\n}"],"names":["_arrayLikeToArray","arr","len","pedidos","carregarPedidos","_carregarPedidos","apply","this","arguments","_asyncToGenerator","fetch","then","res","json","catch","err","console","log","data","_pedidos","push","_toConsumableArray","Object","values","_state","sent","renderizarPedidos","classeContainer","_renderizarPedidos","container","document","body","querySelector","concat","innerHTML","forEach","pedido","text_itens","itens","item","nome","_id","imagem","horaPedido","Date","getHours","getMinutes","preco","pagamento","excluirPedido","pedidoId","method","window","location","href","origin"],"version":3,"file":"meus_pedidos.dc1dda99.js.map"}